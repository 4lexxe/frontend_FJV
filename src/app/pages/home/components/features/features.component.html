<section class="py-5 bg-light">
  <div class="container">
    <!-- Título dinámico de la sección -->
    <h2 class="text-center mb-5 fw-bold text-secondary">{{ sectionTitle }}</h2>

    <!-- Loading state -->
    @if (isLoading) {
      <div class="row justify-content-center">
        <div class="col-auto">
          <div class="d-flex align-items-center">
            <div class="spinner-border text-primary me-3" role="status">
              <span class="visually-hidden">Cargando...</span>
            </div>
            <span class="text-muted">Cargando áreas de trabajo...</span>
          </div>
        </div>
      </div>
    } @else if (hasAreas) {
      <!-- Áreas de trabajo dinámicas -->
      <div class="row g-4">
        @for (area of activeAreas; track area.titulo) {
          <div class="col-md-4">
            <div class="card h-100 shadow-sm feature-card">
              <div class="card-body text-center p-4">
                <div class="feature-icon mb-3">
                  <i class="{{ area.icono }}" [class.text-warning]="error"></i>
                </div>
                <h3 class="card-title h5 text-secondary">{{ area.titulo }}</h3>
                <p class="card-text text-muted">{{ area.descripcion }}</p>
              </div>
            </div>
          </div>
        }
      </div>

      <!-- Mensaje de error discreto si hubo problemas cargando -->
      @if (error) {
        <div class="row justify-content-center mt-3">
          <div class="col-auto">
            <small class="text-muted fst-italic">
              <i class="fas fa-exclamation-triangle text-warning me-1"></i>
              Mostrando configuración por defecto
            </small>
          </div>
        </div>
      }
    } @else {
      <!-- Fallback si no hay áreas -->
      <div class="row justify-content-center">
        <div class="col-md-6 text-center">
          <div class="alert alert-info">
            <i class="fas fa-info-circle me-2"></i>
            No hay áreas de trabajo configuradas en este momento.
          </div>
        </div>
      </div>
    }
  </div>
</section>
